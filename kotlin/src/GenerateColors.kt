import hct.Hct
import scheme.SchemeCmf
import scheme.SchemeContent
import scheme.SchemeExpressive
import scheme.SchemeFidelity
import scheme.SchemeFruitSalad
import scheme.SchemeMonochrome
import scheme.SchemeNeutral
import scheme.SchemeRainbow
import scheme.SchemeTonalSpot
import scheme.SchemeVibrant
import dynamiccolor.MaterialDynamicColors
import dynamiccolor.DynamicScheme
import java.io.File
import java.util.Locale

fun generateColors() {
    val mdc = MaterialDynamicColors()

    val colors = listOf(
        0xFFD20B29.toInt(),
        0xFF0838D4.toInt(),
        0xFF3FDAC5.toInt(),
        0xFF744D4B.toInt(),
        0xFF231074.toInt(),
        0xFFD44271.toInt(),
        0xFF1266B6.toInt(),
        0xFF6BAB93.toInt(),
        0xFF168D2E.toInt(),
        0xFF679543.toInt(),
        0xFFE81668.toInt(),
        0xFFF71BBE.toInt(),
        0xFF370378.toInt(),
        0xFF802C3A.toInt(),
        0xFF2F801D.toInt(),
        0xFFF69EC3.toInt(),
        0xFF35A84E.toInt(),
        0xFFB2D51D.toInt(),
        0xFF4F14E4.toInt(),
        0xFF66C99F.toInt(),
        0xFF9910CC.toInt(),
        0xFF805B08.toInt(),
        0xFF21F01F.toInt(),
        0xFF4B0318.toInt(),
        0xFF8E3023.toInt(),
        0xFFBB3DAA.toInt(),
        0xFF33A743.toInt(),
        0xFF072B28.toInt(),
        0xFFCEDDA4.toInt(),
        0xFFD96CFA.toInt(),
        0xFFEA20FF.toInt(),
        0xFF330BF7.toInt(),
        0xFF37970B.toInt(),
        0xFFA66C46.toInt(),
        0xFFFF1A65.toInt(),
        0xFF5B21D4.toInt(),
        0xFF598005.toInt(),
        0xFF0C7B9D.toInt(),
        0xFF0F3B59.toInt(),
        0xFFF82541.toInt(),
        0xFFD5CF7D.toInt(),
        0xFF357DDC.toInt(),
        0xFFA2AF34.toInt(),
        0xFFC0E888.toInt(),
        0xFF7ABCEA.toInt(),
        0xFF059570.toInt(),
        0xFF5A3AA3.toInt(),
        0xFFB83AD9.toInt(),
        0xFF9D1FCD.toInt(),
        0xFF392649.toInt(),
        0xFF51AE7A.toInt(),
        0xFF5FE9DC.toInt(),
        0xFF3696C4.toInt(),
        0xFF14045A.toInt(),
        0xFF5A8DBD.toInt(),
        0xFF280B7E.toInt(),
        0xFFB36686.toInt(),
        0xFF6EA575.toInt(),
        0xFFDB771E.toInt(),
        0xFFBF2EE4.toInt(),
        0xFF623518.toInt(),
        0xFFE6FE35.toInt(),
        0xFFE59C01.toInt(),
        0xFF2EC313.toInt(),
        0xFF7E7E34.toInt(),
        0xFFDD0A81.toInt(),
        0xFF08302D.toInt(),
        0xFF7724DE.toInt(),
        0xFFF4CA09.toInt(),
        0xFFDC2D7D.toInt(),
        0xFF818BEB.toInt(),
        0xFFAB9473.toInt(),
        0xFFDD19FA.toInt(),
        0xFFBBFD89.toInt(),
        0xFFEF21D6.toInt(),
        0xFF427B94.toInt(),
        0xFF539A8C.toInt(),
        0xFF06EE60.toInt(),
        0xFF2ACD92.toInt(),
        0xFFB7A9FA.toInt(),
        0xFF12E3AF.toInt(),
        0xFFD859A4.toInt(),
        0xFFE84033.toInt(),
        0xFFBF4A53.toInt(),
        0xFF09B1D2.toInt(),
        0xFFF2EA68.toInt(),
        0xFFA8ED43.toInt(),
        0xFF3AD110.toInt(),
        0xFFCA0C86.toInt(),
        0xFF2C713C.toInt(),
        0xFFC30A9E.toInt(),
        0xFFD50070.toInt(),
        0xFF037CFD.toInt(),
        0xFFF0FD71.toInt(),
        0xFFA34B4E.toInt(),
        0xFFDE969D.toInt(),
        0xFFCB1CA9.toInt(),
        0xFFF7B979.toInt(),
        0xFFB35CE8.toInt(),
        0xFF218289.toInt(),
        0xFF89D056.toInt(),
         0xFFC8B88B.toInt(),
         0xFF85F1AF.toInt(),
         0xFF7E9CC9.toInt(),
         0xFF479767.toInt(),
         0xFF6B7582.toInt(),
         0xFFA40C03.toInt(),
         0xFF9AEC7C.toInt(),
         0xFF6AFEC4.toInt(),
         0xFFA67A10.toInt(),
         0xFF2D8261.toInt(),
         0xFF8B556D.toInt(),
         0xFFDEB285.toInt(),
         0xFF0C5ABC.toInt(),
         0xFF9B961F.toInt(),
         0xFFED54C8.toInt(),
         0xFFD32A00.toInt(),
         0xFFFDAEAF.toInt(),
         0xFFD7E5F0.toInt(),
         0xFFEDE03B.toInt(),
         0xFF01FE7F.toInt(),
         0xFFC7B402.toInt(),
         0xFF0FD6A7.toInt(),
         0xFF6D260E.toInt(),
         0xFF747120.toInt(),
         0xFFBED3DE.toInt(),
         0xFF963ADA.toInt(),
         0xFF458842.toInt(),
         0xFF98A9DE.toInt(),
         0xFFEF300C.toInt(),
         0xFFEB8695.toInt(),
         0xFFBB2904.toInt(),
         0xFFF0B669.toInt(),
         0xFF5CC27E.toInt(),
         0xFF3D077D.toInt(),
         0xFFAABD05.toInt(),
         0xFFB272B6.toInt(),
         0xFF9349FD.toInt(),
         0xFFC9F91A.toInt(),
         0xFF74BE0B.toInt(),
         0xFFDFA9B8.toInt(),
         0xFF616881.toInt(),
         0xFF6BA22D.toInt(),
         0xFF9C508D.toInt(),
         0xFF156CFF.toInt(),
         0xFFE4192C.toInt(),
         0xFF85B1BC.toInt(),
         0xFF0608AF.toInt(),
         0xFF06A844.toInt(),
         0xFFADAB06.toInt(),
         0xFF912CD0.toInt(),
         0xFFD15D44.toInt(),
         0xFFA36E88.toInt(),
         0xFF374AC9.toInt(),
         0xFF0ADD62.toInt(),
         0xFF579BE3.toInt(),
         0xFFDD57E4.toInt(),
         0xFFB3A00A.toInt(),
         0xFF6AF258.toInt(),
         0xFF0D3C3A.toInt(),
         0xFF0E54C6.toInt(),
         0xFFC2C928.toInt(),
         0xFFFB5A39.toInt(),
         0xFF1203BE.toInt(),
         0xFF9E31A3.toInt(),
         0xFFDF29B4.toInt(),
         0xFF42CB5B.toInt(),
         0xFF484BF2.toInt(),
         0xFFE60D2E.toInt(),
         0xFFC9FE26.toInt(),
         0xFF42576E.toInt(),
         0xFFC45A42.toInt(),
         0xFF235066.toInt(),
         0xFF985699.toInt(),
         0xFFC6E234.toInt(),
         0xFFF0B72A.toInt(),
         0xFF78936A.toInt(),
         0xFF9FEA71.toInt(),
         0xFF11DFD4.toInt(),
         0xFF3104B0.toInt(),
         0xFF97500A.toInt(),
//         0xFF57B860.toInt(),
//         0xFF9B3CA9.toInt(),
//         0xFF4CF3AA.toInt(),
//         0xFF60EEA7.toInt(),
//         0xFFFA7F1A.toInt(),
//         0xFF654C45.toInt(),
//         0xFFFAFBF6.toInt(),
//         0xFFFCAE1B.toInt(),
//         0xFFD9D170.toInt(),
//         0xFFA886E4.toInt(),
//         0xFF374866.toInt(),
//         0xFFE27062.toInt(),
//         0xFF5DA08B.toInt(),
//         0xFF46E499.toInt(),
//         0xFFB35AB2.toInt(),
//         0xFF4C2578.toInt(),
//         0xFFF764F4.toInt(),
//         0xFF2DC656.toInt(),
//         0xFF1013BE.toInt(),
//         0xFF5FA950.toInt(),
//         0xFF2B5E2F.toInt(),
//         0xFFE1F4A3.toInt(),
//         0xFF7CA5B6.toInt(),
//         0xFF94620A.toInt(),
//         0xFFAF8390.toInt(),
//         0xFF5C400D.toInt(),
//         0xFF450D32.toInt(),
//         0xFF78059C.toInt(),
//         0xFFB1FCCF.toInt(),
//         0xFF4FDD20.toInt(),
//         0xFFA9E5FB.toInt(),
//         0xFFC43F3D.toInt(),
//         0xFFC1D937.toInt(),
//         0xFFBAFA54.toInt(),
//         0xFF999CAD.toInt(),
//         0xFF1F7E78.toInt(),
//         0xFFE68CE3.toInt(),
//         0xFFE91C65.toInt(),
//         0xFF0A438F.toInt(),
//         0xFF0346CC.toInt(),
//         0xFF827221.toInt(),
//         0xFF85DC6C.toInt(),
//         0xFF09D63A.toInt(),
//         0xFFCCCE02.toInt(),
//         0xFFADFCFF.toInt(),
//         0xFFD901FE.toInt(),
//         0xFF53C146.toInt(),
//         0xFF0297B2.toInt(),
//         0xFFFBE937.toInt(),
//         0xFF11145E.toInt(),
//         0xFF286EFB.toInt(),
//         0xFF763144.toInt(),
//         0xFFD99282.toInt(),
//         0xFFF8FA07.toInt(),
//         0xFF76B627.toInt(),
//         0xFFD970B8.toInt(),
//         0xFF543F64.toInt(),
//         0xFF0D077C.toInt(),
//         0xFFB06A2E.toInt(),
//         0xFF7EA6BA.toInt(),
//         0xFF5D322D.toInt(),
//         0xFF4D224C.toInt(),
//         0xFF55937B.toInt(),
//         0xFF1E2DCB.toInt(),
//         0xFF0DE1EC.toInt(),
//         0xFFCFCFCA.toInt(),
//         0xFF8F29D2.toInt(),
//         0xFF1EBCFB.toInt(),
//         0xFFB34B5D.toInt(),
//         0xFF67D739.toInt(),
//         0xFFDA04B7.toInt(),
//         0xFFCCC8C0.toInt(),
//         0xFF4D2D34.toInt(),
//         0xFF27C731.toInt(),
//         0xFFEAB919.toInt(),
//         0xFF6293F1.toInt(),
//         0xFF6EF874.toInt(),
//         0xFF20E6AC.toInt(),
//         0xFF3C9902.toInt(),
//         0xFF2FF64A.toInt(),
//         0xFF708488.toInt(),
//         0xFF98EAC9.toInt(),
//         0xFFFA6C86.toInt(),
//         0xFF390D64.toInt(),
//         0xFF375667.toInt(),
//         0xFF220D5A.toInt(),
//         0xFF45EC81.toInt(),
//         0xFF57A9EE.toInt(),
//         0xFF8C53A0.toInt(),
//         0xFFA0A89E.toInt(),
//         0xFFBE8F83.toInt(),
//         0xFF76E14D.toInt(),
//         0xFFC96316.toInt(),
//         0xFF835011.toInt(),
//         0xFFBDE6C8.toInt(),
//         0xFFAD3E6C.toInt(),
//         0xFF9ED902.toInt(),
//         0xFF6BABA8.toInt(),
//         0xFF30D025.toInt(),
//         0xFFC4912C.toInt(),
//         0xFF1F55CE.toInt(),
//         0xFFC2A1E0.toInt(),
//         0xFF9E1DE8.toInt(),
//         0xFFE68025.toInt(),
//         0xFF86A804.toInt(),
//         0xFFC418A5.toInt(),
//         0xFF38DFF2.toInt(),
//         0xFF8B24AB.toInt(),
//         0xFF8DD353.toInt(),
//         0xFFBEE0EC.toInt(),
//         0xFFBDF3C6.toInt(),
//         0xFFD9A1BC.toInt(),
//         0xFFDC4DDE.toInt(),
//         0xFF728B27.toInt(),
//         0xFF05B62C.toInt(),
//         0xFF814FBC.toInt(),
//         0xFF65E550.toInt(),
//         0xFFFBBB8B.toInt(),
//         0xFFEDA919.toInt(),
//         0xFF9D7562.toInt(),
//         0xFF90937D.toInt(),
//         0xFFD1D90A.toInt(),
//         0xFF93F9D2.toInt(),
//         0xFF1A9CBF.toInt(),
//         0xFF331FE7.toInt(),
//         0xFF7269D4.toInt(),
//         0xFF6102FA.toInt(),
//         0xFF4CC733.toInt(),
//         0xFF2E0CBC.toInt(),
//         0xFF4B8627.toInt(),
//         0xFFC44113.toInt(),
//         0xFF15DE1A.toInt(),
//         0xFF66B3F4.toInt(),
//         0xFFF2D599.toInt(),
//         0xFFC5D6D6.toInt(),
//         0xFF44E698.toInt(),
//         0xFF7C4679.toInt(),
//         0xFFFC6F00.toInt(),
//         0xFFE13292.toInt(),
//         0xFF48E8E9.toInt(),
//         0xFF580E14.toInt(),
//         0xFFFD1A4D.toInt(),
//         0xFFC21953.toInt(),
//         0xFFDF3258.toInt(),
//         0xFFF80DAA.toInt(),
//         0xFF0B8F57.toInt(),
//         0xFF683618.toInt(),
//         0xFF0F3780.toInt(),
//         0xFFBC2306.toInt(),
//         0xFFA325D6.toInt(),
//         0xFFF5A707.toInt(),
//         0xFF7BBD18.toInt(),
//         0xFF3F41F0.toInt(),
//         0xFF9E19EB.toInt(),
//         0xFFC90DD3.toInt(),
//         0xFF0288E5.toInt(),
//         0xFF88C900.toInt(),
//         0xFFC1CD80.toInt(),
//         0xFFA60EBC.toInt(),
//         0xFF121C19.toInt(),
//         0xFFC98801.toInt(),
//         0xFFA3531B.toInt(),
//         0xFF98834C.toInt(),
//         0xFF1609FF.toInt(),
//         0xFF14191B.toInt(),
//         0xFFA94939.toInt(),
//         0xFF665849.toInt(),
//         0xFFAC9758.toInt(),
//         0xFFD9E2A8.toInt(),
//         0xFFC6CEE4.toInt(),
//         0xFFA22C9A.toInt(),
//         0xFF674641.toInt(),
//         0xFFA11E79.toInt(),
//         0xFFDC3C19.toInt(),
//         0xFFB592C0.toInt(),
//         0xFF3D9760.toInt(),
//         0xFF7DF03A.toInt(),
//         0xFF2E04CC.toInt(),
//         0xFFFDF63A.toInt(),
//         0xFF2B16BF.toInt(),
//         0xFFDFD689.toInt(),
//         0xFF7118DE.toInt(),
//         0xFFED1504.toInt(),
//         0xFFFBA997.toInt(),
//         0xFF4B362D.toInt(),
//         0xFF1A2F8D.toInt(),
//         0xFF4BD651.toInt(),
//         0xFF1D76A3.toInt(),
//         0xFFD0A634.toInt(),
//         0xFF1E2DA7.toInt(),
//         0xFF3E5385.toInt(),
//         0xFFBC1381.toInt(),
//         0xFFF2EE45.toInt(),
//         0xFF92E7A5.toInt(),
//         0xFF1211AF.toInt(),
//         0xFFF9BF81.toInt(),
//         0xFFA01824.toInt(),
//         0xFFBBD72B.toInt(),
//         0xFFC74B9D.toInt(),
//         0xFFF2E286.toInt(),
//         0xFFC30A58.toInt(),
//         0xFF661FCA.toInt(),
//         0xFF99113D.toInt(),
//         0xFF0C413A.toInt(),
//         0xFF5F6537.toInt(),
//         0xFF5CC256.toInt(),
//         0xFF93BDE0.toInt(),
//         0xFFFAE016.toInt(),
//         0xFFD869DA.toInt(),
//         0xFF06CC6C.toInt(),
//         0xFF786A39.toInt(),
//         0xFF8C6D0B.toInt(),
//         0xFFDF436E.toInt(),
//         0xFF0ED7DD.toInt(),
//         0xFFB25237.toInt(),
//         0xFF325A04.toInt(),
//         0xFFD42BC4.toInt(),
//         0xFF90FD03.toInt(),
//         0xFF19A3BE.toInt(),
//         0xFFF3767E.toInt(),
//         0xFF937BA5.toInt(),
//         0xFFE531E8.toInt(),
//         0xFFC47A3D.toInt(),
//         0xFF40C480.toInt(),
//         0xFF631850.toInt(),
//         0xFF85F2A3.toInt(),
//         0xFF1B58CD.toInt(),
//         0xFF7C8483.toInt(),
//         0xFFFF3EFB.toInt(),
//         0xFFF7F9AB.toInt(),
//         0xFF06AD8C.toInt(),
//         0xFF09FA8D.toInt(),
//         0xFF33F171.toInt(),
//         0xFF9C2AFB.toInt(),
//         0xFFD6F013.toInt(),
//         0xFFD4A552.toInt(),
//         0xFF69A0CB.toInt(),
//         0xFFCF3493.toInt(),
//         0xFFF54F99.toInt(),
//         0xFF00E46F.toInt(),
//         0xFF9AA191.toInt(),
//         0xFFEAA316.toInt(),
//         0xFF325A22.toInt(),
//         0xFF1A9CE0.toInt(),
//         0xFFA6ADD2.toInt(),
//         0xFF9C91F3.toInt(),
//         0xFF7AD67C.toInt(),
//         0xFF641AE8.toInt(),
//         0xFF09E017.toInt(),
//         0xFF653FB7.toInt(),
//         0xFFF2ADD3.toInt(),
//         0xFF7E401A.toInt(),
//         0xFF32B07F.toInt(),
//         0xFF1F6EAB.toInt(),
//         0xFFD2B7FF.toInt(),
//         0xFF0B97A7.toInt(),
//         0xFFC68AD4.toInt(),
//         0xFFA3348F.toInt(),
//         0xFFE861A9.toInt(),
//         0xFF422A7B.toInt(),
//         0xFF9EA408.toInt(),
//         0xFF8C5631.toInt(),
//         0xFFCEF955.toInt(),
//         0xFFF1524B.toInt(),
//         0xFF6FF87E.toInt(),
//         0xFF1C2B68.toInt(),
//         0xFF10FA98.toInt(),
//         0xFF91184E.toInt(),
//         0xFF25EF7D.toInt(),
//         0xFF3BB0E0.toInt(),
//         0xFFF60ADC.toInt(),
//         0xFFF1296D.toInt(),
//         0xFFC75E05.toInt(),
//         0xFFB00DD9.toInt(),
//         0xFFC4FBA0.toInt(),
//         0xFF9A678C.toInt(),
//         0xFFBE4175.toInt(),
//         0xFF4FD923.toInt(),
//         0xFF0FEDCC.toInt(),
//         0xFF099CCB.toInt(),
//         0xFFD914DD.toInt(),
//         0xFF77D7AF.toInt(),
//         0xFFC57BB9.toInt(),
//         0xFF05625C.toInt(),
//         0xFFC5A90D.toInt(),
//         0xFF608B75.toInt(),
//         0xFF848CC0.toInt(),
//         0xFF3FB8CD.toInt(),
//         0xFFC36481.toInt(),
//         0xFF2339E6.toInt(),
//         0xFF08ED6F.toInt(),
//         0xFF055209.toInt(),
//         0xFF7F842E.toInt(),
//         0xFFD19C02.toInt(),
//         0xFF82433F.toInt(),
//         0xFF0A20AF.toInt(),
//         0xFFE07870.toInt(),
//         0xFF39D90A.toInt(),
//         0xFFB77DF6.toInt(),
//         0xFFDFABF7.toInt(),
//         0xFFDFDFD6.toInt(),
//         0xFFAE122A.toInt(),
//         0xFFB5D5EA.toInt(),
//         0xFF076E60.toInt(),
//         0xFFD68061.toInt(),
//         0xFF59A545.toInt(),
//         0xFFC548A2.toInt(),
//         0xFF8EBE10.toInt(),
//         0xFF2E48B3.toInt(),
//         0xFF924CFC.toInt(),
//         0xFF75896E.toInt(),
//         0xFFD67D5D.toInt(),
//         0xFFD54A57.toInt(),
//         0xFF121946.toInt(),
//         0xFF70F998.toInt(),
//         0xFF1F527D.toInt(),
    )

    val contrasts = listOf(
        0.1,
        1.1,
        2.0,
        4.5,
        7.0,
        20.0
    )

    val schemeFactories: List<Pair<String, (Int, Boolean, Double) -> DynamicScheme>> =
        listOf(
            "CMF" to { h, isDark, contrast -> SchemeCmf(Hct.fromInt(h), isDark, contrast) },
            "CONTENT" to { h, isDark, contrast -> SchemeContent(Hct.fromInt(h), isDark, contrast) },
            "EXPRESSIVE" to { h, isDark, contrast -> SchemeExpressive(Hct.fromInt(h), isDark, contrast) },
            "FIDELITY" to { h, isDark, contrast -> SchemeFidelity(Hct.fromInt(h), isDark, contrast) },
            "FRUITSALAD" to { h, isDark, contrast -> SchemeFruitSalad(Hct.fromInt(h), isDark, contrast) },
            "MONOCHROME" to { h, isDark, contrast -> SchemeMonochrome(Hct.fromInt(h), isDark, contrast) },
            "NEUTRAL" to { h, isDark, contrast -> SchemeNeutral(Hct.fromInt(h), isDark, contrast) },
            "RAINBOW" to { h, isDark, contrast -> SchemeRainbow(Hct.fromInt(h), isDark, contrast) },
            "TONAL_SPOT" to { h, isDark, contrast -> SchemeTonalSpot(Hct.fromInt(h), isDark, contrast) },
            "VIBRANT" to { h, isDark, contrast -> SchemeVibrant(Hct.fromInt(h), isDark, contrast) },
        )

    val results = mutableListOf<String>()

    for (color in colors) {
        println(color.toUInt().toString(16))
        for ((schemeName, factory) in schemeFactories) {
            for (contrast in contrasts) {
                for (isDark in listOf(true, false)) {
//                for (isDark in listOf(true)) {
                    val scheme = factory(color, isDark, contrast)

                    val roles = mutableListOf<String>()
                    for (dynGetter in mdc.allDynamicColors) {
                        val dyn = dynGetter.invoke() ?: continue
//                        if (dyn.name != "on_primary_container") continue
                        val argb = dyn.getArgb(scheme)
                        val hex = String.format(Locale.US, "0x%08X", argb)
                        roles.add("\"${dyn.name}\": \"$hex\"")
                    }

                    val entry =
                        String.format(
                            Locale.US,
                            "{\"color\": \"0x%08X\", \"scheme\": \"%s\", \"contrast\": %s, \"is_dark\": %s, \"roles\": {%s}}",
                            color,
                            scheme.variant.name,
                            contrast.toString(),
                            isDark.toString(),
                            roles.joinToString(", "),
                        )

                    results.add(entry)
                }
            }
        }
    }

    val outname = "../tests/assets/json/reference_schemes_large.json";
    val out = File(outname)
    out.writeText("[\n" + results.joinToString(",\n") + "\n]\n")
    println("Wrote ${outname} with ${results.size} entries")
}
